# Environment-specific configuration for Team B Cosmos DB App
# These values are used with envsubst or Flux postBuild substitution

# === Required: Application Identity ===
APP_NAME=orders-api
RESOURCE_GROUP=rg-team-b
NAMESPACE=team-b
LOCATION=eastus

# === Application Settings ===
PORT=3000
IMAGE_REPO=mcr.microsoft.com/azure-samples/cosmos-dotnet-quickstart
IMAGE_TAG=latest

# === Cosmos DB Settings ===
COSMOS_DATABASE_NAME=ordersdb
COSMOS_CONTAINER_NAME=orders
COSMOS_PARTITION_KEY=/customerId
COSMOS_THROUGHPUT=400

# === Monitoring Settings ===
MONITORING_RETENTION_DAYS=30
OTEL_LANGUAGE=dotnet

# === Infrastructure (from platform ConfigMaps) ===
OIDC_ISSUER_URL=https://eastus.oic.prod-aks.azure.com/00000000-0000-0000-0000-000000000000/00000000-0000-0000-0000-000000000000/
PRIVATE_ENDPOINT_SUBNET_ID=/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-platform/providers/Microsoft.Network/virtualNetworks/vnet-team-b/subnets/private-endpoints
COSMOS_DNS_ZONE_ID=/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-platform/providers/Microsoft.Network/privateDnsZones/privatelink.documents.azure.com

# === Dynamic values (populated after ASO creates resources) ===
IDENTITY_CLIENT_ID=to-be-populated
APPINSIGHTS_CONNECTION_STRING=to-be-populated
COSMOS_ROLE_DEFINITION_ID=/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-team-b/providers/Microsoft.DocumentDB/databaseAccounts/orders-api-cosmos/sqlRoleDefinitions/00000000-0000-0000-0000-000000000002
COSMOS_ACCOUNT_SCOPE=/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-team-b/providers/Microsoft.DocumentDB/databaseAccounts/orders-api-cosmos
